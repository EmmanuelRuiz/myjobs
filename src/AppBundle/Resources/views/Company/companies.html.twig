{% extends "AppBundle:Layouts:layout.html.twig"%}
{% block javascripts %}
    {{ parent() }}
     <script src="{{ asset('assets/js/custom/companies.js') }}"></script>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="col-lg-8 box-default">
            <h1>Empresas</h1>
            <div class="count">
                <span class="label label-primary">
                    Total de resultados: {{ pagination.getTotalItemCount }}
                </span>
            </div>
            <hr/>
        
            <div class="box-content box-users">
                {# usamos la variable company para recorrer cada resultado y mostrarlos #}
                {% for company in pagination %}
                    <div class="col-lg-12 user-item">
                        <div class="avatar">
                            {% if company.logo == null%}
                                <img src="{{ asset('assets/images/company-logo.png') }}"/>
                            {% else %}
                                <img src="{{ asset('uploads/users/'~company.logo) }}"/>
                            {% endif %}
                        </div>
                        
                        
                        <div class="user-item-content">
                            {# enlace al perfil de la empresa #}
                            <p><a href="">{{ company.businessname }}</a> | {{ company.businesssector}}</p>
                            <p>{{ company.description }}</p>
                            
                        </div>
                        <div class="clearfix"></div>
                        <hr />
                    </div>
                {% endfor %}
            </div>
            
            <div class="navigation">
                {{ knp_pagination_render(pagination) }}
            </div>
            <div class="clearfix"></div>

        </div>
    </div>
    
{% endblock %}